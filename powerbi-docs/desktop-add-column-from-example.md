---
title: Добавление столбца из примера в Power BI Desktop
description: Быстрое создание столбца в Power BI Desktop с использованием существующих столбцов в качестве примера
author: davidiseminger
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: conceptual
ms.date: 05/07/2019
ms.author: davidi
LocalizationGroup: Create reports
ms.openlocfilehash: d07cfda18f44a0872c8c9567aa29ac49a98622a7
ms.sourcegitcommit: 64c860fcbf2969bf089cec358331a1fc1e0d39a8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2019
ms.locfileid: "73869437"
---
# <a name="add-a-column-from-an-example-in-power-bi-desktop"></a>Добавление столбца из примера в Power BI Desktop
Начиная с выпуска **Power BI Desktop**, вышедшего в апреле 2017 г., вы можете добавлять в свою модель новые столбцы данных с помощью **редактора запросов**. Вам нужно просто задать для нового столбца один или несколько примеров значений. Можно создать пример нового столбца, указав используемый столбец или входные данные на основе всех (или только выделенных) столбцов в конкретной таблице.

![](media/desktop-add-column-from-example/add-column-from-example_01.png)

Такой подход позволяет быстро и просто создавать столбцы; он очень удобен в следующих ситуациях:

* Вам известно, каким должен быть результат данных в новом столбце, но вы не уверены, какое преобразование (или набор преобразований) необходимо применить.
* Вам известно, какие преобразования нужно применить, но вы не знаете, какой элемент пользовательского интерфейса выбрать, чтобы сделать это.
* Вы знаете все о необходимых преобразованиях благодаря выражению *Custom Column* в языке **M**, но одно (или несколько) таких выражений недоступно для выбора или добавления в пользовательском интерфейсе.

Функция **добавления столбца на основе примера** очень проста в использовании. В следующих разделах мы расскажем о ней.

## <a name="use-query-editor-to-add-a-new-column-from-examples"></a>Использование редактора запросов для добавления нового столбца из примеров
Чтобы создать столбец из примера, запустите **редактор запросов**. Для этого можно щелкнуть элемент **Изменить запросы** на вкладке ленты **Главная** в **Power BI Desktop**.

![](media/desktop-add-column-from-example/add-column-from-example_02.png)

Для получения данных из веб-страницы перейдите на вкладку **Главная**, выберите **Получить данные > Веб** и вставьте URL-адрес в появившемся диалоговом окне. В этой статье используются данные из статьи Википедии. Вы можете щелкнуть следующую ссылку, чтобы самостоятельно изучить данные:

* [**List of states and territories of the United States**](https://wikipedia.org/wiki/List_of_states_and_territories_of_the_United_States) (Список штатов и территорий США)

Когда **редактор запросов** будет запущен и вы загрузите некоторые данные, можно начать добавление столбца из примеров. Чтобы добавить новый столбец, в **редакторе запросов** откройте на ленте вкладку **Добавить столбец** и выберите **Столбец из примеров**. В раскрывающемся списке можно выбрать вариант **Из всех столбцов** (параметр по умолчанию, который применяется, если нажать кнопку вместо раскрывающегося списка) или вариант **Из выделения**. В этой статье мы рассмотрим вариант **Из всех столбцов**.

![](media/desktop-add-column-from-example/add-column-from-example_03.png)

## <a name="the-add-column-from-examples-pane"></a>Область "Добавление столбца из примеров"
Когда вы выберете вариант добавления нового столбца из примеров, отобразится новая область, в которой будут показаны столбцы в текущей таблице (чтобы увидеть их все, может потребоваться прокрутить область вниз). Новый столбец **Column1** также отображается справа. Это столбец, который создается службой **Power BI Desktop** на основе ваших примеров. Под новым заголовком **Column1** расположены пустые ячейки: в них можно ввести ваши примеры, которые Power BI использует для создания правил и преобразований для сопоставления с примером.

Обратите внимание, что это — **примененное действие** в области **Параметры запроса**. **Редактор запросов**, как всегда, запишет ваш набор преобразований и применит их к запросу в той же последовательности.

![](media/desktop-add-column-from-example/add-column-from-example_04.png)

Эта область называется **Добавление столбца из примеров**. Она состоит из четырех основных частей.

1. **Панель команд**, содержащая краткое описание функции или преобразования.
2. Параметр **Отправить отзыв** для улучшения этой функции Power BI.
3. Кнопки **ОК** и **Отмена**, позволяющие зафиксировать ваши преобразования и добавить столбец или отменить операцию.
4. Область нового столбца, в которой можно вводить примеры значений в любой из строк (чтобы указать ваш пример для Power BI), связанных с другими столбцами в этой строке.

![](media/desktop-add-column-from-example/add-column-from-example_05.png)

По мере того, как вы вводите пример в новом столбце, Power BI отображает создаваемый столбец на основе обнаруживаемых преобразований. Например, если ввести *Алабама* в первой строке, это соответствует значению *Алабама* в первом столбце таблицы. При нажатии клавиши *ВВОД* Power BI заполняет столбец на основе этого значения.

Затем вы переходите к строке, содержащей значение *Массачусетс[E]* и удаляете окончание *[E]* (так как оно больше не нужно). Служба Power BI обнаруживает изменение и использует этот пример для создания преобразования. Обратите внимание на объяснение преобразования в верхней части средней области.

![](media/desktop-add-column-from-example/add-column-from-example_06.png)

По мере того, как вы продолжаете вводить примеры, **редактор запросов** добавляет преобразования. Если результат вас устраивает, нажмите кнопку **ОК**, чтобы зафиксировать изменения.

## <a name="see-add-column-from-examples-in-action"></a>Пример того, как работает область "Добавление столбца из примеров"
Хотите посмотреть, как это работает? В следующем видео показано, как использовать эту функцию с помощью источника данных, упомянутого ранее в этом примере. Вы можете просмотреть это видео и затем попробовать сами!

<iframe width="560" height="315" src="https://www.youtube.com/embed/-ykbVW9wQfw" frameborder="0" allowfullscreen></iframe>

## <a name="considerations-and-limitations"></a>Рекомендации и ограничения
Для использования с областью **Добавление столбца из примеров** доступно множество преобразований, но не все они поддерживаются. Приведенный ниже список содержит все поддерживаемые преобразования.

* **Ссылка**
  
  * Ссылка на определенный столбец (включая преобразования, предусматривающие усечение, очистку и изменение регистра)

* **Преобразования текста**
  
  * Объединить (поддерживает сочетание строковых литералов и значений всего столбца)
  * Заменить
  * Длина
  * Извлечение   
    * Первые символы
    * Последние символы
    * Диапазон
    * Текст перед разделителем
    * Текст после разделителя
    * Текст между разделителями
    * Длина

* Ниже перечислены поддерживаемые **преобразования текста**, которые доступны начиная с выпуска **Power BI Desktop** в ноябре 2017 г.
    
  * Удалить символы
  * Сохранить символы

> [!NOTE]
> Во всех преобразованиях *текста* учтена потенциальная необходимость усечения значения столбца, очистки или изменения регистра.
> 
> 

* **Преобразования даты**
  
  * День
  * День недели
  * Название дня недели
  * День года
  * Месяц
  * Название месяца
  * Квартал года
  * Неделя месяца
  * Неделя года
  * Год
  * Возраст
  * Начало года
  * Конец года
  * Начало месяца
  * Конец месяца
  * Начало квартала
  * Дней в месяце
  * Конец квартала
  * Начало недели
  * Конец недели
  * День месяца
  * Начало дня
  * Конец дня


* **Преобразования времени**
  
  * Час
  * Минута
  * Секунда  
  * На местное время

> [!NOTE]
> Все преобразования *даты* и *времени* учитывают потенциальную необходимость преобразования значений столбцов в значения *Date*, *Time* или *DateTime*.
> 
> 

* **Преобразования чисел** 

  * Абсолютное значение
  * Арккосинус
  * Арксинус
  * Арктангенс
  * Преобразовать в число
  * Косинус
  * Куб
  * Разделить
  * Показатель степени
  * Факториал
  * Целочисленное деление
  * Четное
  * Нечетное
  * Натуральный логарифм
  * Десятичный логарифм
  * Остаток от деления
  * Умножить
  * Округление с уменьшением
  * Округление с увеличением
  * Знак
  * Синус
  * Квадратный корень
  * Квадрат
  * Вычитание
  * Сумма
  * Тангенс

* Ниже перечислены поддерживаемые **преобразования чисел**, которые доступны начиная с выпуска **Power BI Desktop** в ноябре 2017 г.

  * Создание контейнеров и диапазоны

* **Общие сведения**
  
  * Условные столбцы