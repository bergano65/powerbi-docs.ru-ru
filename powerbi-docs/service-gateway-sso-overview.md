---
title: Использование единого входа в локальные источники данных
description: Настройте шлюз, чтобы включить единый вход (SSO) из Power BI в локальные источники данных.
author: mgblythe
ms.author: mblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-gateways
ms.topic: conceptual
ms.date: 07/15/2019
LocalizationGroup: Gateways
ms.openlocfilehash: a99aad87763edce54996f0a485fde5498fb1df11
ms.sourcegitcommit: 9bf3cdcf5d8b8dd12aa1339b8910fcbc40f4cbe4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/05/2019
ms.locfileid: "71968614"
---
# <a name="overview-of-single-sign-on-sso-for-gateways-in-power-bi"></a>Общие сведения о едином входе (SSO) для шлюзов в Power BI

Вы можете быстро установить подключение с единым входом, включив обновление отчетов и панели мониторинга Power BI в режиме реального времени с помощью данных из локальной среды. Для этого настройте локальный шлюз данных либо с ограниченным делегированием Kerberos, либо с языком разметки заявлений системы безопасности (SAML). Локальный шлюз данных поддерживает единый вход (SSO) с использованием функции DirectQuery для подключения к локальным источникам данных.

В настоящее время поддерживаются следующие источники данных:

* SQL Server ([Kerberos](service-gateway-sso-kerberos.md))
* SAP HANA ([Kerberos](service-gateway-sso-kerberos.md) и [SAML](service-gateway-sso-saml.md))
* SAP BW ([Kerberos](service-gateway-sso-kerberos.md))
* Teradata ([Kerberos](service-gateway-sso-kerberos.md))
* Spark ([Kerberos](service-gateway-sso-kerberos.md))
* Impala ([Kerberos](service-gateway-sso-kerberos.md))

На данный момент не поддерживается возможность единого входа для [расширений M](https://github.com/microsoft/DataConnectors/blob/master/docs/m-extensions.md).

Когда пользователь работает с отчетом DirectQuery в службе Power BI, каждая операция перекрестной фильтрации, среза, сортировки и редактирования отчета генерирует запросы, которые в режиме реального времени отправляются в основной источник данных в локальной среде. Если для источника данных настроен единый вход, запросы выполняются с идентификатором пользователя, работающего в Power BI (то есть через веб-интерфейс или мобильные приложения Power BI). Таким образом, каждый пользователь может просмотреть данные, доступ к которым ему разрешен в основном источнике данных. Если настроен единый вход, общее кэширование данных разных пользователей не выполняется.

## <a name="query-steps-when-running-sso"></a>Действия запроса при выполнении единого входа

Запрос, который выполняется с единым входом, состоит из трех этапов, которые представлены на следующей схеме:

![Шаги запроса, выполняемого с единым входом](media/service-gateway-sso-overview/sso-query-steps.png)

Ниже приведены дополнительные сведения об этих действиях:

1. При отправке каждого запроса в настроенный шлюз **служба Power BI** включает *имя участника пользователя* (полное имя пользователя, выполнившего вход в службу Power BI).

2. Шлюз должен сопоставить имя субъекта-пользователя Azure с локальным идентификатором Active Directory.

   а.  Если решение Azure AD DirSync (также известное как *AAD Connect*) настроено, то сопоставление выполнится на этом шлюзе автоматически.

   б.  В противном случае шлюз может выполнить поиск и сопоставить имя участника-пользователя Azure AD с локальным пользователем AD, выполнив поиск в домене локальной версии Active Directory.

3. После сопоставления процесс службы шлюза олицетворяет локального пользователя, устанавливает подключение к базовой базе данных и отправляет запрос. Шлюз не обязательно устанавливать на том же компьютере, что и базу данных.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы знакомы с основными сведениями о едином входе с использованием шлюза, более подробно изучите Kerberos и SAML:

* [Единый вход (SSO) с помощью Kerberos](service-gateway-sso-kerberos.md)
* [Единый вход (SSO) с помощью SAML](service-gateway-sso-saml.md)
