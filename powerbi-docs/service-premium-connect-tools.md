---
title: Подключение к наборам данных Power BI Premium с помощью клиентских приложений и средств (предварительная версия)
description: Описывает подключение к наборам данных в Power BI Premium с помощью клиентских приложений и средств.
author: minewiskan
ms.author: owend
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-admin
ms.topic: conceptual
ms.date: 07/24/2019
ms.custom: seodec18
LocalizationGroup: Premium
ms.openlocfilehash: aaafaa5b2822e3e17fdc92b43bf7b745330a547b
ms.sourcegitcommit: ced8c9d6c365cab6f63fbe8367fb33e6d827cb97
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2020
ms.locfileid: "78946843"
---
# <a name="connect-to-datasets-with-client-applications-and-tools-preview"></a>Подключение к наборам данных с помощью клиентских приложений и средств (предварительная версия)

Рабочие области и наборы данных Power BI Premium поддерживают подключения *только для чтения* со стороны клиентских приложений и средств Майкрософт и других производителей. По умолчанию подключения включены.

> [!NOTE]
> Эта статья предназначена только для ознакомления с взаимодействием с рабочими областями и наборами данных Power BI Premium в режиме только для чтения. Она *не* содержит подробные сведения о программировании, конкретных средствах и приложениях, архитектуре, а также управлении рабочими областями и наборами данных. Описанные здесь темы требуют хорошего понимания архитектуры базы данных табличной модели Analysis Services и особенностей ее администрирования.

## <a name="protocol"></a>Протокол

Power BI Premium использует протокол [XML для аналитики](https://docs.microsoft.com/bi-reference/xmla/xml-for-analysis-xmla-reference) (XMLA) для обеспечения взаимодействия клиентских приложений и подсистемы, которая управляет рабочими областями и наборами данных. Такое взаимодействие осуществляется посредством так называемых конечных точек XMLA. XMLA — это тот же протокол связи, который использует подсистема Microsoft Analysis Services, отвечающая за семантическое моделирование, регулирование, управление жизненным циклом и данными в Power BI. 

Подавляющее большинство клиентских приложений и средств не взаимодействуют с этой подсистемой явно с помощью конечных точек XMLA. Вместо этого они используют клиентские библиотеки, такие как MSOLAP, ADOMD и AMO, в качестве посредника между клиентским приложением и подсистемой, которые взаимодействует исключительно с помощью XMLA.


## <a name="supported-tools"></a>Поддерживаемые средства

Эти средства поддерживают доступ только для чтения к рабочим областям и наборам данных Power BI Premium.

**SQL Server Management Studio (SSMS)** — поддерживает запросы TraceEvent, DAX, многомерные выражения, XMLA. Требуется версия 18.0. Скачать ее можно [здесь](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms). 

**SQL Server Profiler** — это средство, которое входит в состав SSMS 18.0 (предварительная версия), обеспечивает трассировку и отладку событий сервера. Вы можете записать и сохранить данные о каждом событии в файл или таблицу для дальнейшего анализа. Хотя Profiler был признан нерекомендуемым для SQL Server, он по-прежнему входит в состав SSMS и поддерживается для Analysis Services, а теперь и для Power BI Premium. Дополнительные сведения см. в статье [SQL Server Profiler](https://docs.microsoft.com/sql/tools/sql-server-profiler/sql-server-profiler).

**DAX Studio** — средство сообщества с открытым исходным кодом для выполнения и анализа запросов DAX для Analysis Services. Требуется версия 2.8.2 или более поздняя. Дополнительные сведения см. на сайте [daxstudio.org](https://daxstudio.org/).

**Сводные таблицы Excel** — требуется версия "нажми и работай" Office 16.0.11326.10000 или более поздняя.

**Третья сторона** — включает клиентские приложения и средства для визуализации данных, которые могут подключаться к наборам данных в Power BI Premium, отправлять в них запросы и использовать их. Для большинства средств требуются последние версии клиентских библиотек MSOLAP, но некоторые могут использовать ADOMD.

## <a name="client-libraries"></a>Клиентские библиотеки

Клиентские библиотеки нужны клиентским приложениям и средствам для подключения к рабочим областям Power BI Premium. Те же клиентские библиотеки, используемые для подключения к Analysis Services, также поддерживаются в Power BI Premium. Клиентские приложения Майкрософт, такие как Excel, SQL Server Management Studio (SSMS) и SQL Server Data Tools (SSDT), устанавливают все три клиентские библиотеки и обновляют их в рамках периодических обновлений приложения. В некоторых случаях, в частности для сторонних приложений и средств, может потребоваться установить более новые версии клиентских библиотек. Клиентские библиотеки обновляются каждый месяц. Дополнительные сведения см. в разделе [Клиентские библиотеки для подключения к Analysis Services](https://docs.microsoft.com/azure/analysis-services/analysis-services-data-providers).

## <a name="connecting-to-a-premium-workspace"></a>Подключение к рабочей области Premium

Вы можете подключиться к рабочим областям, назначенным выделенным емкостям Premium. Рабочие области, которые были назначены выделенной емкости, имеют строку подключения в формате URL-адреса. 

Чтобы получить строку подключения рабочей области, в Power BI в области **Параметры рабочей области** на вкладке **Premium** на вкладке в окне **Подключение рабочей области** нажмите кнопку **Копировать**.

![Строка подключения рабочей области](media/service-premium-connect-tools/connect-tools-workspace-connection.png)

Подключения рабочих областей используют следующий формат URL-адреса для обращения к рабочей области, как если бы это было имя сервера Analysis Services.   
`powerbi://api.powerbi.com/v1.0/[tenant name]/[workspace name]` 

Например, `powerbi://api.powerbi.com/v1.0/contoso.com/Sales Workspace`

### <a name="to-connect-in-ssms"></a>подключение к SSMS

В окне **Подключение к серверу** > **Тип сервера** выберите **Analysis Services**. В поле **Имя сервера** введите URL-адрес. В поле **Проверка подлинности** выберите **Active Directory — универсальная с поддержкой MFA**, а затем в поле **Имя пользователя** введите свой идентификатор пользователя организации. 

После подключения рабочая область отображается как сервер Analysis Services, а наборы данных в ней отображаются как базы данных.  

![SSMS](media/service-premium-connect-tools/connect-tools-ssms.png)

### <a name="initial-catalog"></a>Исходный каталог

Для некоторых средств, таких как SQL Server Profiler, вам может понадобиться указать *Исходный каталог*. Укажите набор данных (базу данных) в рабочей области. В окне **Подключение к серверу** щелкните **Параметры**. В диалоговом окне **Подключение к серверу** на вкладке **Свойства соединения** в области **Подключение к базе данных** введите имя набора данных.

### <a name="duplicate-workspace-name"></a>Дублирование имени рабочей области

При подключении к рабочей области с таким же именем, что и у другой рабочей области, может появиться следующая ошибка: **Не удается подключиться к powerbi://api.powerbi.com/v1.0/[имя клиента]/[имя рабочей области].**

Чтобы обойти эту ошибку, в дополнение к имени рабочей области укажите ObjectIDGuid, который можно скопировать из objectID рабочей области в URL-адресе. Добавьте objectID в URL-адрес подключения. Например, "powerbi://api.powerbi.com/v1.0/myorg/Contoso Sales - 9d83d204-82a9-4b36-98f2-a40099093830".

### <a name="duplicate-dataset-name"></a>Дублирование имени набора данных

При подключении к набору данных с таким же именем, как и у другого набора данных в той же рабочей области, добавьте GUID набора данных к имени набора данных. Вы можете получить имя набора данных *и* GUID при подключении к рабочей области в SSMS. 

### <a name="delay-in-datasets-shown"></a>Задержка при отображении наборов данных

При подключении к рабочей области для отображения изменений из новых, удаленных и переименованных наборов данных может потребоваться до 5 минут. 

### <a name="unsupported-datasets"></a>Неподдерживаемые наборы данных

К следующим наборам данных невозможно обратиться с помощью конечных точек XMLA. Эти наборы данных *не* отображаются в рабочей области в SSMS или в других средствах. 

- Наборы данных с активным подключением к моделям Analysis Services. 
- Наборы данных с принудительной отправкой данных с помощью REST API.
- Наборы данных книги Excel. 

В службе Power BI не поддерживаются следующие наборы данных.   

- Наборы данных с активным подключением к набору данных Power BI.

### <a name="roles-and-role-memberships"></a>Роли и членство в ролях

Сейчас роли моделей и членство в ролях невозможно обнаружить или отобразить с использованием конечных точек XML для аналитики.

## <a name="audit-logs"></a>Журналы аудита 

Когда клиентские приложения и средства подключаются к рабочей области, доступ через конечные точки XMLA регистрируется в журналах аудита Power BI в разделе операции **GetWorkspaces**. Дополнительные сведения см. в разделе [Аудит Power BI](service-admin-auditing.md).

## <a name="see-also"></a>См. также:

[Ссылки на Analysis Services](https://docs.microsoft.com/bi-reference/?pivot=home&panel=home-all)   
[SQL Server Management Studio](https://docs.microsoft.com/sql/ssms/sql-server-management-studio-ssms)   
[Протокол табличных данных SQL Server Analysis Services](https://docs.microsoft.com/openspecs/sql_server_protocols/ms-ssas-t/b98ed40e-c27a-4988-ab2d-c9c904fe13cf)   
[Динамические административные представления](https://docs.microsoft.com/sql/analysis-services/instances/use-dynamic-management-views-dmvs-to-monitor-analysis-services)   


Появились дополнительные вопросы? [Попробуйте задать вопрос в сообществе Power BI.](https://community.powerbi.com/)
