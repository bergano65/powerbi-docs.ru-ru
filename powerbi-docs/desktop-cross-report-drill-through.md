---
title: Использование детализации между отчетами в Power BI Desktop
description: Узнайте, как перейти от одного отчета к другому в Power BI Desktop.
author: davidiseminger
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: conceptual
ms.date: 09/18/2019
ms.author: davidi
LocalizationGroup: Create reports
ms.openlocfilehash: 7189ef77446446b56b1dcb55b43b022d0fc5c057
ms.sourcegitcommit: 64c860fcbf2969bf089cec358331a1fc1e0d39a8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2019
ms.locfileid: "73868783"
---
# <a name="use-cross-report-drillthrough-in-power-bi-desktop"></a>Использование детализации между отчетами в Power BI Desktop

Функция детализации между отчетами в Power BI Desktop позволяет контекстно переходить от одного отчета к другому. Это можно выполнять, если отчеты находятся в одной рабочей области или приложении в службе Power BI. С помощью детализации между отчетами можно соединить два или более отчетов, имеющих связанное содержимое, и передать контекст фильтра вместе с этим соединением. В этой статье вы узнаете о настройке детализации между отчетами для Power BI и об особенностях работы с ней для пользователей.

![Снимок экрана пункта детализации в Power BI Desktop](media/desktop-cross-report-drill-through/cross-report-drill-through-01.png)

Перед началом настройки и использованием детализации между отчетами важно понимать следующие определения.

* **Исходный визуальный элемент.** Визуальный элемент, для которого можно вызвать действие детализации с помощью его контекстного меню.
* **Исходный отчет.** Отчет, содержащий исходный визуальный элемент, который будет использоваться для детализации между отчетами.
* **Целевая страница.** Страница, на которую пользователь попадает после запуска детализации.
* **Целевой отчет.** Отчет, содержащий целевую страницу, которая будет использоваться для детализации между отчетами.


> [!NOTE]
> Функция детализации между отчетами в Power BI Desktop позволяет контекстно переходить от одного отчета к другому. Это можно выполнять, если отчеты находятся в одной рабочей области или приложении в службе Power BI. Это не применяется для доступа к отдельным совместно используемым отчетам в разделе *Моя рабочая область* ([общие отчеты](service-share-dashboards.md#share-a-dashboard-or-report)). Вместо этого необходимо перейти к отчету в рабочей области, из которой к нему изначально предоставлен общий доступ.


## <a name="enable-cross-report-drillthrough"></a>Включение детализации между отчетами

Чтобы включить отчет для использования в качестве целевого объекта детализации между отчетами, необходимо активировать функцию для этого отчета в окне **Параметры**. Последовательно выберите пункты **Файл** > **Параметры и настройки** > **Параметры**, а затем перейдите к области **Настройки отчетов** в нижней части страницы слева.

Установите флажок **Разрешить визуальным элементам в этом отчете использовать целевые объекты детализации из других отчетов**, как показано на следующем рисунке.

![Снимок экрана: окно параметров с выделенным пунктом "Настройки отчетов"](media/desktop-cross-report-drill-through/cross-report-drill-through-02.png)

Теперь детализация между отчетами включена.

## <a name="set-up-cross-report-drillthrough"></a>Настройка детализации между отчетами

Настройка детализации между отчетами аналогична настройке детализации в отчете. Детализация включается на целевой странице. Это позволяет другим визуальным элементам ориентироваться на страницу с включенной детализацией. Инструкции по созданию детализации в рамках одного отчета см. в статье [Использование детализации в Power BI Desktop](desktop-drillthrough.md).

Чтобы начать процесс установки, необходимо выполнить несколько начальных действий:

* настроить целевую страницу детализации, доступ к которой можно получить из других отчетов в рабочей области или приложении;
* разрешить отчету просматривать страницы детализации за пределами собственного отчета.

Найдите параметры детализации в разделе **Поля** области **Визуализации**, как показано на следующем рисунке.

![Снимок экрана: панель "Визуализации" с выделенными параметрами детализации](media/desktop-cross-report-drill-through/cross-report-drill-through-03.png)

Первым шагом при включении детализации для страницы является проверка моделей данных для исходных и целевых отчетов. Убедитесь, что: 

* поля, которые требуется передать, существуют в обеих моделях данных;
* имена полей и таблиц, к которым они относятся, идентичны (строки также должны совпадать, в том числе по регистру).

Например, если вы хотите передать фильтр по полю *Страна* в таблице *География*, то обе модели должны содержать таблицу *География* с полем *Страна*. В противном случае необходимо обновить имя поля или имя таблицы в базовой модели. Простое обновление отображаемых имен полей не будет корректно работать с детализацией между отчетами. (Обратите внимание, что схемы в каждом отчете могут не совпадать в точности.)

Чтобы приступить к настройке, необходимо подготовить целевую страницу. В Power BI Desktop перейдите на страницу и убедитесь, что переключатель детализации **Несколько отчетов** установлен в значение **Вкл.** 

![Снимок экрана: переключатель "Несколько отчетов" в положении "Вкл."](media/desktop-cross-report-drill-through/cross-report-drill-through-03.png)

Затем перетащите на холст поля, которые хотите использовать в качестве целевого объекта детализации. Выберите, должно ли поле использоваться в качестве категории или суммироваться как мера. На этом этапе можно выбрать, следует ли отключить переключатель **Сохранить все фильтры** для визуального элемента. Если вы не хотите передавать другие примененные фильтры из исходного визуального элемента в целевой, выберите **Выкл.**

> [!NOTE]
> Если страница используется только для детализации между отчетами, следует удалить кнопку **Назад**, которая добавляется автоматически. Кнопка **Назад** работает только для навигации в одном отчете. 

После настройки визуального элемента убедитесь, что отчет сохранен, если вы находитесь в службе Power BI. Если вы используете Power BI Desktop, сохраните и опубликуйте отчет.

В предыдущем разделе описано, как включить детализацию между отчетами для Power BI Desktop (в окне **Параметры**). Если вы используете службу Power BI для создания целевого объекта детализации между отчетами, то для включения детализации между отчетами необходимо выполнить следующие действия: 

1. Выберите рабочую область, в которой находятся целевой и исходный отчеты.
2. Выберите **Отчеты**.
3. Щелкните значок **Параметры** для исходного отчета.
4. Убедитесь, что переключатель детализации между отчетами **включен**.
5. Сохраните отчет.

Вот и все. Отчет готов к использованию в рамках детализации между отчетами. 

В следующем разделе мы рассмотрим работу с детализацией с точки зрения пользователя.

## <a name="cross-report-drillthrough-experience"></a>Работа с детализацией между отчетами

После настройки детализации между отчетами вы можете применить эту функцию.

Выберите исходный отчет в службе Power BI, а затем выберите визуальный элемент, который использует поле или поля, которые вы указали при настройке целевой страницы. Затем щелкните точку данных правой кнопкой мыши, чтобы открыть контекстное меню визуального элемента, и выберите пункт **Детализация**.

![Снимок экрана: исходный отчет в службе Power BI с выделенным пунктом детализации](media/desktop-cross-report-drill-through/cross-report-drill-through-01.png)

Результаты будут отображаться на целевой странице детализации между отчетами точно так же, как вы настроили их при создании целевого объекта. Результаты фильтруются в соответствии с параметрами детализации.

> [!IMPORTANT]
> Power BI кэширует целевые объекты детализации между отчетами. Если вы вносите изменения, не забудьте обновить браузер, иначе целевые объекты детализации могут отображаться не так, как вы ожидаете. 

Целевые объекты между отчетами имеют следующий формат: 

`Target Page Name [Target Report Name]`

После того как вы выберете целевую страницу, которую необходимо детализировать, Power BI перейдет на нее. Контекст фильтра передается на основе параметров целевой страницы. 

Контекст фильтра из исходного визуального элемента может включать следующее: 

* фильтры уровня визуального элемента, отчета и страницы, затрагивающие исходный визуальный элемент; 
* перекрестные фильтрацию и выделение, влияющие на исходный визуальный элемент; 
* срезы на странице и их синхронизацию;
* параметры URL-адреса.

При переходе к целевому отчету для детализации Power BI применяет фильтры только для тех полей, для которых находит точные совпадающие строки для имени поля и имени таблицы. Power BI не применяет прикрепленные фильтры из целевого отчета. Однако при этом применяется личная закладка по умолчанию, если она существует. Например, если личная закладка по умолчанию содержит фильтр уровня отчета *страна = США*, Power BI сначала применяет этот фильтр, а уже потом контекст фильтра из исходного визуального элемента. 

Для детализации между отчетами Power BI передает контекст фильтра всем стандартным страницам в целевом отчете. Power BI не передает контекст фильтра для страниц с подсказками, так как эти страницы фильтруются на основе исходного визуального элемента, вызывающего подсказку.

Если вы хотите вернуться к исходному отчету после выполнения действия детализации между отчетами, нажмите кнопку **Назад** в браузере. 

## <a name="next-steps"></a>Дальнейшие действия

Рекомендуем также ознакомиться со следующими материалами:

* [Использование срезов в Power BI Desktop](visuals/power-bi-visualization-slicers.md)
* [Использование детализации в Power BI Desktop](desktop-drillthrough.md)

